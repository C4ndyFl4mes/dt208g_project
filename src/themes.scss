@use "sass:map";
@use "sass:color";

// Light Theme Variables:
$li-primary-bgc: #ffffff;
$li-primary-fgc: #222222;
$li-secondary-bgc: rgba(186, 195, 197, 0.7);
$li-table-container-bgc: #dfdfdf;
$li-table-bgc: #eaeaea;
$li-table-row-bgc: #dddddd;
$li-table-row-hover-bgc: color.adjust($li-table-row-bgc, $lightness: -10%);
$li-inputfield-bgc: #cccccc;
$li-selected-item-datalist-bgc: color.adjust($li-inputfield-bgc, $lightness: -10%);

$li-menu-primary-bgc: black;
$li-menu-secondary-bgc: rgba(113, 225, 253, 0.7);
$li-menu-hover-bgc: color.adjust($li-menu-secondary-bgc, $alpha: 0.09%);
$li-menu-active-bgc: color.adjust($li-menu-secondary-bgc, $alpha: 0.2%);
$li-menu-border-c: rgba(143, 143, 141, 0.2);

$li-menu-button-bgc: rgb(180, 180, 180);
$li-menu-button-hover-bgc: color.adjust($li-menu-button-bgc, $lightness: -5%);
$li-menu-button-active-bgc: color.adjust($li-menu-button-bgc, $lightness: -10%);


// Dark Theme Variables:
$da-primary-bgc: #ffffff;
$da-primary-fgc: #222222;
$da-secondary-bgc: #b4b5b6;
$da-table-container-bgc: #dfdfdf;
$da-table-bgc: #eaeaea;
$da-table-row-bgc: #dddddd;
$da-table-row-hover-bgc: color.adjust($da-table-row-bgc, $lightness: -10%);
$da-inputfield-bgc: #cccccc;
$da-selected-item-datalist-bgc: color.adjust($da-inputfield-bgc, $lightness: -10%);

$da-menu-primary-bgc: black;
$da-menu-secondary-bgc: rgba(186, 195, 197, 0.7);
$da-menu-hover-bgc: color.adjust($da-menu-secondary-bgc, $alpha: 0.09%);
$da-menu-active-bgc: color.adjust($da-menu-secondary-bgc, $alpha: 0.2%);
$da-menu-border-c: rgba(143, 143, 141, 0.2);

$da-menu-button-bgc: rgb(180, 180, 180);
$da-menu-button-hover-bgc: color.adjust($da-menu-button-bgc, $lightness: -5%);
$da-menu-button-active-bgc: color.adjust($da-menu-button-bgc, $lightness: -10%);

// Shared values for themes, mostly placeholder as template.
$base-theme: (
    "something": #000000
);

// Light theme
$light-theme: (
    primary-bgc: $li-primary-bgc,
    primary-fgc: $li-primary-fgc,
    secondary-bgc: $li-secondary-bgc,
    table-container-bgc: $li-table-container-bgc,
    table-bgc: $li-table-bgc,
    table-row-bgc: $li-table-row-bgc,
    inputfield-bgc: $li-inputfield-bgc,
    selected-item-datalist-bgc: $li-selected-item-datalist-bgc,
    menu-primary-bgc: $li-menu-primary-bgc,
    menu-secondary-bgc: $li-menu-secondary-bgc,
    menu-hover-bgc: $li-menu-hover-bgc,
    menu-active-bgc: $li-menu-active-bgc,
    menu-border-c: $li-menu-border-c,
    menu-button-bgc: $li-menu-button-bgc,
    menu-button-hover-bgc: $li-menu-button-hover-bgc,
    menu-button-active-bgc: $li-menu-button-active-bgc
);

// Dark theme
$dark-theme: (
    primary-bgc: $da-primary-bgc,
    primary-fgc: $da-primary-fgc,
    secondary-bgc: $da-secondary-bgc,
    table-container-bgc: $da-table-container-bgc,
    table-bgc: $da-table-bgc,
    table-row-bgc: $da-table-row-bgc,
    inputfield-bgc: $da-inputfield-bgc,
    selected-item-datalist-bgc: $da-selected-item-datalist-bgc,
    menu-primary-bgc: $da-menu-primary-bgc,
    menu-secondary-bgc: $da-menu-secondary-bgc,
    menu-hover-bgc: $da-menu-hover-bgc,
    menu-active-bgc: $da-menu-active-bgc,
    menu-border-c: $da-menu-border-c,
    menu-button-bgc: $da-menu-button-bgc,
    menu-button-hover-bgc: $da-menu-button-hover-bgc,
    menu-button-active-bgc: $da-menu-button-active-bgc
);

// A function to merge base with light or dark theme.
@function deep-merge($map1, $map2) {
    $result: $map1;

    @each $key, $value in $map2 {
        $result: map.set($result, $key, $value);
    }

    @return $result;
}

// Merge them base theme with the other themes.
$light-theme: deep-merge($base-theme, $light-theme);
$dark-theme: deep-merge($base-theme, $dark-theme);


// Light (standard)
:root {
    @each $key, $value in $light-theme {
        --#{$key}: #{$value};
    }
}

// Dark if prefered, overrides light theme
@media (prefers-color-scheme: dark) {
    :root {
        @each $key, $value in $dark-theme {
            --#{$key}: #{$value};
        }
    }
}