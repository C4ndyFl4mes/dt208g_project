<table>
    <thead>
        <tr class="main-head">
            <th>Kurskod</th>
            <th>Kursnamn</th>
            <th>Poäng</th>
            <th>Ämne</th>
            <th>
                 @if (parentPage() === "courses") {
                    Lägg till
                 } @else {
                    Ta bort
                 }
            </th>
        </tr>
    </thead>
    <tbody>
        @if (page()) {
            @if (coursesOnDisplay().length === 0) {
            <tr>
                <td colspan="5" class="empty">Hittade inga kurser utifrån kriterierna.</td>
            </tr>
            } @else {
                @for (item of page().items; track item.courseCode) {
                <tr class="main-row" (click)="openPlan(item.syllabus)" title="Öppna kursplan för {{item.courseName}}">
                    <td>{{item.courseCode}}</td>
                    <td>{{item.courseName}}</td>
                    <td>{{item.points}}</td>
                    <td>{{item.subject}}</td>
                    <td> 
                        @if (framework.isSelected(item)) {
                            @if (parentPage() === "courses") {
                                <button class="button selected" title="{{item.courseName}} är redan tillagd!">Tillagd</button>
                            } @else {
                                <button class="button remove" title="Ta bort {{item.courseName}}">Ta bort</button>
                            }
                        } @else {
                            <button (click)="$event.stopPropagation(); framework.add(item)" class="button select" title="Lägg till {{item.courseName}}">Lägg till</button>
                        }
                    </td>
                </tr>
            }
            }
            
        }
    </tbody>
</table>